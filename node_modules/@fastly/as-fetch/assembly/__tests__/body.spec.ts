// Copyright 2020 Fastly, Inc.

import { Body } from "../body";

describe("Body", () => {
  test("constructor", () => {
    let body = new Body(String.UTF8.encode("body"));
    let nullBody = new Body(null);

    expect(body).toBeTruthy();
    expect(nullBody).toBeTruthy();
  });

  test("arrayBuffer", () => {
    let buffer = String.UTF8.encode("body");
    let body = new Body(buffer);

    expect(body.arrayBuffer()).toBe(buffer);
    expect(body.bodyUsed).toBe(true);
  });

  test("text", () => {
    let body = new Body(String.UTF8.encode("body"));

    expect(body.text()).toBe("body");
    expect(body.bodyUsed).toBe(true);
  });
});
